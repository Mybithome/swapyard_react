<!doctype html><html lang="en"><head><meta charset="utf-8"/><link rel="icon" href="/favicon.ico"/><meta name="viewport" content="width=device-width,initial-scale=1"/><meta name="theme-color" content="#000000"/><meta name="description" content="Web site created using create-react-app"/><link rel="apple-touch-icon" href="/logo192.png"/><link rel="manifest" href="/manifest.json"/><title>React App</title><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js" integrity="sha512-uto9mlQzrs59VwILcLiRYeLKPPbS/bT71da/OEBYEwcdNUk8jYIy+D176RYoop1Da+f9mvkYrmj5MCLZWEtQuA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/notify/0.4.2/notify.min.js" integrity="sha512-efUTj3HdSPwWJ9gjfGR71X9cvsrthIA78/Fvd/IN+fttQVy7XWkOAXb295j8B3cmm/kFKVxjiNYzKw9IQJHIuQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/web3/1.7.4/web3.min.js" integrity="sha512-oMd9Re3VgJcXuZJn9DN6X7S7JUc7xLYZ2UyZ85Mm/xzaW3lwBr4fV2zjuu/n5jY/Of/2JOx35CTa6zvQNxb31Q==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/big.js/2.3.0/big.min.js" integrity="sha512-FRFtxO3b4HKkMcWJ/Yv7tQp+WwWMSPLDlAO5hn1TbNgswaE+RAFESuBbulWR/PNeTq9d4DS/hyEZbcZRAqlYwQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><script>let totalBuys,html,avgPrice,selectedTokenAddress,buyExchange,sellExchange,borrowAmount,prices=[],buys=[],loanTokenAddress="0x2791bca1f2de4661ed88a30c99a7a9449aa84174",days=1,rightNow=new Date,DaysAgo=new Date;DaysAgo.setDate(DaysAgo.getDate()-days);const web3=new Web3(window.ethereum),getERC20ABI=$.getJSON("../contracts/IERC20.json"),getRouterABI=$.getJSON("../contracts/IUniswapV2Router02.json"),getFactoryABI=$.getJSON("../contracts/IUniswapV2Factory.json"),getExchangeRouters=$.getJSON("../exchangeDetails.json"),getArbitrageABI=$.getJSON("../contracts/Arbitrage.json"),getPairABI=$.getJSON("../contracts/IUniswapV2Pair.json"),getDODOFactoryABI=$.getJSON("../contracts/DODOFactory.json"),getDODOPoolABI=$.getJSON("../contracts/IDODO.json"),getSavedImages=$.getJSON("../coinImages.json");let buyExchangeName,sellExchangeName,isProfitable,userAddress,DODOPoolABI,DODOPoolContract,flashLoanPool,flashLoanPools,flashLoanFactory,DODOFactoryABI,loanTokenABI,loanTokenContract,ArbitrageABI,arbitrageContract,IUniswapV2Factory,IUniswapV2Router02,IUniswapv2Pair,exchangeRouters,buyFactory,sellFactory,buyPairAddress,sellPairAddress,buyPairContract,sellPairContract,buyReserves,buyPrice,calcBuyPrice,sellReserves,sellPrice,calcSellPrice,difference,buyAmountMax,trueBuyPriceTokenA,trueBuyPriceTokenB,trueSellPriceTokenA,trueSellPriceTokenB,maxBuySpend,maxSellSpend,maxSwap,buyAmountsOut,sellAmountsOut,estimatedGas,savedImages,imageUrl,contractApproval,receipt,path=[];async function testClick(){if(maxBuySpend=$("#slider-1").val(),$(".data_log").prepend(`<code class="notify info"> Setting spend amount to ${maxBuySpend}...</code>`),getFlashLoanPool(),void 0!==window.ethereum?$(".data_log").prepend('<code class="notify info"> MetaMask Is available...</code >'):$(".data_log").prepend('<code class="notify info"> Mesage...</code>'),void 0===userAddress)return $(".data_log").prepend('<code class="notify error"> You Must Connect First!</code>'),void $(".enableEthereumButton").notify("Click Here To Connect","info");if("0x89"!==window.ethereum.chainId)return void $(".data_log").append('< code className = "notify error" > You Must Connect to POLYGON MAINNET</code>');$(".data_log").prepend('<code class="notify info"> Connecting to SwapYard contract...</code>'),ArbitrageABI=await getArbitrageABI.responseJSON,arbitrageContract=await new web3.eth.Contract(ArbitrageABI.abi,"0x3825b1da21a35d16a0ad08fc2eb0bb5852a43cad"),$(".data_log").prepend('<code class="notify info"> Connecting to loan token contract...</code>'),loanTokenABI=await getERC20ABI.responseJSON,loanTokenContract=new web3.eth.Contract(loanTokenABI.abi,loanTokenAddress),IUniswapV2Pair=await getPairABI.responseJSON,IUniswapV2Router=await getRouterABI.responseJSON,IUniswapV2Factory=await getFactoryABI.responseJSON,$(".data_log").prepend('<code class="notify info"> Connecting to buy exchange factory...</code>'),buyFactory=await new web3.eth.Contract(IUniswapV2Factory.abi,buyExchange),$(".data_log").prepend('<code class="notify info"> Connecting to buy exchange router...</code>'),buyRouter=await new web3.eth.Contract(IUniswapV2Router.abi,exchangeRouters[buyExchangeName].router),$(".data_log").prepend('<code class="notify info"> Connecting to sell exchange factory...</code>'),sellFactory=await new web3.eth.Contract(IUniswapV2Factory.abi,sellExchange),$(".data_log").prepend('<code class="notify info"> Connecting to sell exchange router...</code>'),sellRouter=await new web3.eth.Contract(IUniswapV2Router.abi,exchangeRouters[sellExchangeName].router),$(".data_log").prepend('<code class="notify info"> Requesting pair contract from buy factory...</code>'),buyPairAddress=await buyFactory.methods.getPair(loanTokenAddress,selectedTokenAddress).call({gas:"100000"}),$(".data_log").prepend(`<code class="notify info"> Buy pair address is ${buyPairAddress}...</code>`),$(".data_log").prepend('<code class="notify info"> Requesting pair contract from sell factory...</code>'),sellPairAddress=await sellFactory.methods.getPair(loanTokenAddress,selectedTokenAddress).call({gas:"100000"}),$(".data_log").prepend(`<code class="notify info"> Sell pair address is ${sellPairAddress}...</code>`),$(".data_log").prepend('<code class="notify info"> Connecting to buy pair contract...</code>'),buyPairContract=await new web3.eth.Contract(IUniswapV2Pair.abi,buyPairAddress),$(".data_log").prepend('<code class="notify info"> Connecting to sell pair contract...</code>'),sellPairContract=await new web3.eth.Contract(IUniswapV2Pair.abi,sellPairAddress),$(".data_log").prepend('<code class="notify info"> Requesting reserves from buy pair contract...</code>'),buyReserves=await buyPairContract.methods.getReserves().call({gas:"100000"}),$(".data_log").prepend('<code class="notify info"> Requesting reserves from sell pair contract...</code>'),sellReserves=await sellPairContract.methods.getReserves().call({gas:"100000"}),$(".data_log").prepend('<code class="notify info"> Calculating exact buy price...</code>'),calcBuyPrice=Big(buyReserves[0]).div(Big(buyReserves[1])).toString(),$(".data_log").prepend('<code class="notify info"> Calculating exact sell price...</code>'),calcSellPrice=Big(sellReserves[0]).div(Big(sellReserves[1])).toString(),$(".data_log").prepend('<code class="notify info"> Calculating exact price delta between exchanges...</code>'),difference=((calcBuyPrice-calcSellPrice)/calcSellPrice*100).toFixed(2),path[0]=loanTokenAddress,path[1]=selectedTokenAddress,$(".data_log").prepend('<code class="notify info"> Requesting estimated returns for buy exchange...</code>'),buyAmountsOut=await buyRouter.methods.getAmountsOut(web3.utils.toWei(maxBuySpend.toString(),"wei"),path).call({gas:"100000"}),path[0]=selectedTokenAddress,path[1]=loanTokenAddress,$(".data_log").prepend('<code class="notify info"> Requesting estimated returns for sell exchange...</code>'),sellAmountsOut=await sellRouter.methods.getAmountsOut(web3.utils.BN(buyAmountsOut[1]),path).call({gas:"100000"}),$(".data_log").prepend('<code class="notify info"> Calculating estimated return...</code>');let e=sellAmountsOut[1]-buyAmountsOut[0];if(e>0?(isProfitable=!0,$(".data_log").prepend('<code class="notify success"> Test is estimated to be profitable...</code>')):(isProfitable=!1,$(".data_log").prepend('<code class="notify error"> Test is estimated to be un-profitable...</code>')),setTimeout((function(){$(".reserves_delta .label_right").html(difference),$(".buy_return  .label_right").html(buyAmountsOut[0]),$(".sell_return .label_right").html(sellAmountsOut[1]),$(".estimated_return .label_right").html(e)}),100),isProfitable)try{$(".data_log").prepend('<code class="notify info"> Approving loan token with user...</code>'),estimatedGas=await web3.eth.getGasPrice(),contractApproval=await loanTokenContract.methods.approve("0x3825b1dA21a35d16a0aD08Fc2Eb0BB5852a43cAD",web3.utils.toWei(maxBuySpend.toString(),"ether").toString()).send({from:`${userAddress}`,gasPrice:`${estimatedGas}`,maxFeePerGas:web3.utils.toWei("40","Gwei").toString(),maxPriorityFeePerGas:web3.utils.toWei("30","Gwei").toString()})}catch(e){let t=JSON.parse(e.message.split("Internal JSON-RPC error.\n").pop()).message;$(".data_log").prepend(`<code class="notify error"> ${t}...</code>`)}}async function sendClick(){try{$(".data_log").prepend('<code class="notify info"> Sending transaction please wait......</code>'),receipt=await arbitrageContract.methods.executeTrade(flashLoanPool,loanTokenAddress,selectedTokenAddress,web3.utils.toWei(maxBuySpend.toString(),"ether").toString(),exchangeRouters[buyExchangeName].Router,exchangeRouters[sellExchange],userAddress).send({from:`${userAddress}`,gasPrice:web3.utils.toWei(estimatedGas),maxFeePerGas:web3.utils.toWei("100","Gwei").toString(),maxPriorityFeePerGas:web3.utils.toWei("95","Gwei").toString()})}catch(e){let t=JSON.parse(e.message.split("Internal JSON-RPC error.\n").pop()).message;$(".data_log").prepend(`<code class="notify error"> ${t}...</code>`)}$.notify(reciept,"success")}async function buyClick(e,t,a,n){buyPrice=a,$(".buys_column").hide(),$(".sells_column").show(),$(".selected_cards .buy_card").replaceWith(e),buyExchange=t,buyExchangeName=n}async function sellClick(e,t,a,n){sellPrice=a,$(".sells_column").hide(),$(".trade_column").show(),$(".selected_cards .sell_card").replaceWith(e),sellExchange=t,sellExchangeName=n}async function swapClick(e,t){exchangeRouters=await getExchangeRouters.responseJSON,selectedTokenAddress=t,$(".swaps_column").hide(),$(".buys_column").show(),$(".selected_cards .swap_card").replaceWith(e);let a=(await getExchanges(t)).data.ethereum.dexTrades;for(i=0;i<a.length;i++){buildBuys(a[i].exchange.address.address,t,a[i].baseCurrency.symbol)}setTimeout((function(){let e=prices.reduce(((e,t)=>e+t),0);console.log(e),avgPrice=e/prices.length,buys.sort((function(e,t){return e.price-t.price})),buys.reverse(),createBuys(buys),buys.reverse(),createSells(buys),buys=[],prices=[]}),1e3)}async function buildBuys(e,t,a){let n=(await getPrice(e,t)).data.ethereum.dexTrades[0];if(void 0!==n){let t=Number(n.baseAmount)/Number(n.quoteAmount),r={};r.exchangeName=n.exchange.fullName,r.exchangeAddress=e,r.price=t,r.symbol=a,prices.push(t),buys.push(r)}}async function createSwapCards(){savedImages=await getSavedImages;let e="";$(".data_log").prepend('<code class="notify info"> Retrieving recent trade data...</code>');let t=(await getTrades()).data.ethereum.dexTrades;$(".data_log").prepend('<code class="notify info"> Building swap cards...</code>');let a=[];t.forEach((e=>{let t;t=e.median_price>e.last_price?e.median_price-e.last_price:e.last_price-e.median_price/e.count,a.push({symbol:`${e.buyCurrency.symbol}`,address:`${e.buyCurrency.address.toString()}`,tradeCount:`${e.count}`,volatilityScore:t.toFixed(5)})})),a.sort((function(e,t){return e.volatilityScore-t.volatilityScore})),a.reverse(),a.forEach((t=>{imageUrl="../img/unknown.png",getImage(t.symbol);let a=`<div class="swap_card" onClick="swapClick(this,'${t.address}')">\n                        <div class="token_img">\n                          <img src='${imageUrl}' alt='' />\n                        </div>\n                        <div class='details_left'>\n                          <div class='symbol'>\n                            ${t.symbol}\n                          </div>\n                          <div class='label'>\n                            T${t.tradeCount}\n                          </div>\n                        </div>\n                        <div class='details_right'>\n                          <div class='score'>\n                            ${t.volatilityScore}\n                          </div>\n                          <div class='label'>\n                            VOLATILITY\n                          </div>\n                        </div>\n                      </div>`;e+=a,$(".swaps").empty(),$(".swaps").prepend(e)}))}async function createSells(e,t){let a;for($(".sells").empty(),i=0;i<e.length;i++){a=void 0===exchangeRouters[e[i].exchangeName]?"disabled":"enabled",getImage(e[i].symbol);let t=e[i].price-avgPrice;t=Number(t).toFixed(6),html="";let n=`<div class="sell_card ${a}" onClick="sellClick(this, '${e[i].exchangeAddress}', ${e[i].price}, '${e[i].exchangeName}')">\n                                <div class="token_img">\n                                  <img src='${imageUrl}' alt='' />\n                                </div>\n                                <div class='details_left'>\n                                  <div class='symbol'>\n                                    ${e[i].symbol}\n                                  </div>\n                                  <div class='label'>\n                                    $${e[i].price.toFixed(5)}\n                                  </div>\n                                </div>\n                                <div class='details_right'>\n                                  <div class='price'>\n                                    ${t}\n                                  </div>\n                                  <div class='label'>\n                                    ${e[i].exchangeName}\n                                  </div>\n                                </div>\n                              </div>`;html+=n,$(".sells").prepend(html)}}async function createBuys(e,t){let a;for($(".buys").empty(),i=0;i<e.length;i++){a=void 0===exchangeRouters[e[i].exchangeName]?"disabled":"enabled",getImage(e[i].symbol);let t=e[i].price-avgPrice;t=Number(t).toFixed(6),html="";let n=`<div class="buy_card ${a}" onClick="buyClick(this, '${e[i].exchangeAddress}', ${e[i].price}, '${e[i].exchangeName}')">\n                                <div class="token_img">\n                                  <img src='${imageUrl}' alt='' />\n                                </div>\n                                <div class='details_left'>\n                                  <div class='symbol'>\n                                    ${e[i].symbol}\n                                  </div>\n                                  <div class='label'>\n                                    $${e[i].price.toFixed(5)}\n                                  </div>\n                                </div>\n                                <div class='details_right'>\n                                  <div class='price'>\n                                    ${t}\n                                  </div>\n                                  <div class='label'>\n                                    ${e[i].exchangeName}\n                                  </div>\n                                </div>\n                              </div>`;html+=n,$(".buys").prepend(html)}}async function getFlashLoanPool(){for(DODOFactoryABI=await getDODOFactoryABI.responseJSON,DODOPoolABI=await getDODOPoolABI.responseJSON,flashLoanFactory=await new web3.eth.Contract(DODOFactoryABI,"0x79887f65f83bdf15Bcc8736b5e5BcDB48fb8fE13"),flashLoanPools=await flashLoanFactory.methods.getDODOPool(loanTokenAddress,"0x8f3Cf7ad23Cd3CaDbD9735AFf958023239c6A063").call({gas:"100000"}),i=0;i<flashLoanPools.length;i++)await checkPool(flashLoanPools[i])}async function checkPool(e){DODOPoolContract=await new web3.eth.Contract(DODOPoolABI,e),await DODOPoolContract.methods._BASE_RESERVE_().call({gas:"100000"})>1e4&&(flashLoanPool=e)}async function getPrice(e,t){var a=new Headers;a.append("X-API-KEY","BQYKwXxx3N1v4QK8q8i4wSW8x3murMYp"),a.append("Content-Type","application/json");var n={method:"POST",headers:a,body:JSON.stringify({query:'query ($network: EthereumNetwork!, $address: String!, $quote: String!, $token: String!, $limit: Int!, $offset: Int!, $from: ISO8601DateTime, $till: ISO8601DateTime) {\r\n  ethereum(network: $network) {\r\n    dexTrades(\r\n      options: {desc: ["block.height", "tradeIndex"], limit: $limit, offset: $offset}\r\n      date: {since: $from, till: $till}\r\n      baseCurrency: {is: $token}\r\n      quoteCurrency: {is: $quote}\r\n      exchangeAddress: {is: $address}\r\n    ) {\r\n      block {\r\n        timestamp {\r\n          time(format: "%Y-%m-%d %H:%M:%S")\r\n        }\r\n        height\r\n      }\r\n      tradeIndex\r\n      protocol\r\n      exchange {\r\n        fullName\r\n        address {\r\n            address\r\n        }\r\n      }\r\n      smartContract {\r\n        address {\r\n          address\r\n          annotation\r\n        }\r\n      }\r\n      baseAmount\r\n      baseCurrency {\r\n        address\r\n        symbol\r\n      }\r\n      quoteAmount\r\n      quoteCurrency {\r\n        address\r\n        symbol\r\n      }\r\n      transaction {\r\n        hash\r\n      }\r\n    }\r\n  }\r\n}\r\n',variables:{limit:1,offset:0,network:"matic",address:e,token:"0x2791bca1f2de4661ed88a30c99a7a9449aa84174",quote:t,from:DaysAgo,till:rightNow,dateFormat:"%Y-%m-%d"}}),redirect:"follow"};try{let e=await fetch("https://graphql.bitquery.io",n).then((e=>e.json()));return await e}catch(e){console.log(e)}}async function getExchanges(e){var t=new Headers;t.append("X-API-KEY","BQYKwXxx3N1v4QK8q8i4wSW8x3murMYp"),t.append("Content-Type","application/json");var a={method:"POST",headers:t,body:JSON.stringify({query:'query ($network: EthereumNetwork!, $token: String!, $from: ISO8601DateTime, $till: ISO8601DateTime) {\r\n  ethereum(network: $network) {\r\n    dexTrades(\r\n      options: {desc: "amount"}\r\n      date: {since: $from, till: $till}\r\n      baseCurrency: {is: $token}\r\n      protocol: {is: "Uniswap v2"}\r\n      exchangeName: {not: ""}\r\n    ) {\r\n      exchange {\r\n        fullName\r\n        address {\r\n          address\r\n        }\r\n      }\r\n      baseCurrency {\r\n          symbol\r\n      }\r\n      amount: baseAmount\r\n    }\r\n  }\r\n}\r\n',variables:{limit:100,offset:0,network:"matic",token:e,from:DaysAgo,till:rightNow,dateFormat:"%Y-%m-%d"}}),redirect:"follow"};try{let e=await fetch("https://graphql.bitquery.io",a).then((e=>e.json()));return await e}catch(e){console.log(e)}}async function getTrades(){var e=new Headers;e.append("X-API-KEY","BQYKwXxx3N1v4QK8q8i4wSW8x3murMYp"),e.append("Content-Type","application/json");var t={method:"POST",headers:e,body:JSON.stringify({query:'query ($network: EthereumNetwork!, $limit: Int!, $offset: Int!, $from: ISO8601DateTime, $till: ISO8601DateTime) {\r\n  ethereum(network: $network) {\r\n    dexTrades(\r\n      options: {desc: "count", limit: $limit, offset: $offset}\r\n      date: {since: $from, till: $till}\r\n      sellCurrency: {is: "0x2791bca1f2de4661ed88a30c99a7a9449aa84174"}\r\n    ) {\r\n      sellCurrency {\r\n        symbol\r\n        address\r\n      }\r\n      sellAmount\r\n      buyCurrency {\r\n        symbol\r\n        address\r\n      }\r\n      buyAmount\r\n      average_buyAmount: buyAmount(calculate: average)\r\n      count\r\n      median_price: price(calculate: median)\r\n      last_price: maximum(of: block, get: price)\r\n      price\r\n      dates: count(uniq: dates)\r\n      started: minimum(of: date)\r\n    }\r\n  }\r\n}',variables:{limit:100,offset:0,network:"matic",from:DaysAgo,till:rightNow,dateFormat:"%Y-%m-%d"}}),redirect:"follow"};try{let e=await fetch("https://graphql.bitquery.io",t);return await e.json()}catch(e){console.log(e)}}async function getImage(e){if(void 0!==savedImages[e])imageUrl=savedImages[e];else{let t=await $.getJSON(`https://min-api.cryptocompare.com/data/all/coinlist?summary=true&fsym=${e}&api_key=93b95d279c8922ca2c0186a61426b341ec206777e39dc3481d475d407d718892`).done((function(e){return e})),a=await t.Data;if(void 0===a)return"../img/unknown.png";{let t=a[e].ImageUrl;if(void 0===t)return"../img/unknown.png";{let a=`https://www.cryptocompare.com${t}`;savedImages[e]=a,imageUrl=a}}}}async function getUserAddress(){let e=await ethereum.request({method:"eth_requestAccounts"});userAddress=e[0],$(".enableEthereumButton").html(userAddress)}$(document).ready((function(){$(".confirmation_button").click((function(){sendClick()})),$(".test_button").click((function(){testClick()})),$(".enableEthereumButton").click((()=>{getUserAddress()})),$(".buys_column").hide(),$(".sells_column").hide(),$(".trade_column").hide(),$("#slider-1").slider(),$("#slider-1").change((function(){$(".borrow_amount").html("$"+$("#slider-1").val())})),$("#slider-1").val(1e4)})),createSwapCards()</script><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Finlandica:ital,wght@1,400;1,500;1,600;1,700&display=swap" rel="stylesheet"><script defer="defer" src="/static/js/main.97f233d9.js"></script><link href="/static/css/main.e68030f9.css" rel="stylesheet"></head><body><noscript>You need to enable JavaScript to run this app.</noscript><div id="root"></div></body></html>